seeds:
  - name: raw_transactions
    description: "Raw transaction data loaded from CSV"
    columns:
      - name: transaction_id
        tests:
          - not_null
          - unique
      - name: transaction_date
        tests:
          - not_null
          - date_format:
              arguments:
                format: '%Y-%m-%d'
      - name: amount
        tests:
          - not_null
          - not_negative
      - name: currency
        tests:
          - not_null
      - name: payment_method
        tests:
          - not_null
      - name: product_type
        tests:
          - not_null
      - name: game_id

  - name: raw_psp_transactions
    description: "Raw PSP transaction data loaded from CSV"
    columns:
    - name: psp_transaction_id
      tests:
        - not_null
        - unique
    - name: original_transaction_id
      tests:
        - not_null
        - unique
    - name: psp_amount
      tests:
        - not_null
        - not_negative
    - name: psp_currency
      tests:
        - not_null
        - accepted_values:
            arguments:
              values: ['USD', 'EUR', 'GBP', 'PLN', 'CAD', 'JPY']
    - name: psp_timestamp
      tests:
        - not_null
        - date_format:
            arguments:
              format: '%Y-%m-%d %H:%M:%S'
    - name: status
      tests:
        - not_null
        - accepted_values:
            arguments:
              values: ['CANCELLED', 'FAILED', 'SUCCESS', 'PENDING']
  
  - name: raw_game_metadata
    description: "Raw game metadata data loaded from CSV"
    columns:
    - name: game_id
      tests:
        - not_null
        - unique
    - name: game_title
      tests:
        - not_null
    - name: genre
      tests:
        - not_null
    - name: developer
      tests:
        - not_null
    - name: release_date
      tests:
        - not_null
        - date_format:
            arguments:
              format: '%Y-%m-%d'
  
  - name: raw_exchange_rates
    description: "Raw exchange rates data loaded from CSV"
    columns:
    - name: date
      tests:
        - not_null
        - date_format:
            arguments:
              format: '%Y-%m-%d'
    - name: currency_from
      tests:
        - not_null
        - accepted_values:
            arguments:
              values: ['USD', 'EUR', 'GBP', 'PLN', 'CAD', 'JPY']
    - name: currency_to
      tests:
        - not_null
        - accepted_values:
            arguments:
              values: ['PLN']
    - name: rate
      tests:
        - not_null
        - not_negative