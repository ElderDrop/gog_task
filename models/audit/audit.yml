models:
  - name: fact_transaction_reconciliation
    description: "Fact table consolidating reconciled transactions from both internal and PSP systems. Provides a unified view of all transactions with conversion to PLN for financial reporting."
    columns:
      - name: reconciliation_status
        description: "Status of the reconciliation between internal and PSP transactions ids"
        tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['MATCH', 'ONLY IN GOG', 'ONLY IN PSP']

      - name: date_reconciliation_status
        description: "Status of the reconciliation between internal and PSP transaction dates"
        tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['DATE MATCH', 'DATE MISMATCH']

      - name: amount_reconciliation_status
        description: "Status of the reconciliation between internal and PSP transaction amounts"
        tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['AMOUNT MATCH', 'AMOUNT MISMATCH']

      - name: currency_reconciliation_status
        description: "Status of the reconciliation between internal and PSP transaction currencies"
        tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['CURRENCY MATCH', 'CURRENCY MISMATCH']